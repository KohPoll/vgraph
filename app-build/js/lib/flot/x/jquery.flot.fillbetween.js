(function(d){var e={series:{fillBetween:null}};function f(a){function c(i,k){var l;for(l=0;l<k.length;++l){if(k[l].id==i.fillBetween){return k[l]}}if(typeof i.fillBetween=="number"){l=i.fillBetween;if(l<0||l>=k.length){return null}return k[l]}return null}function b(Q,K,Y){if(K.fillBetween==null){return}var T=c(K,Q.getData());if(!T){return}var j=Y.pointsize,L=Y.points,X=T.datapoints.pointsize,l=T.datapoints.points,P=[],s,I,W,H,J,R,M=K.lines.show,U=j>2&&Y.format[2].y,V=M&&K.lines.steps,N=true,O=0,S=0,i;while(true){if(O>=L.length){break}i=P.length;if(L[O]==null){for(m=0;m<j;++m){P.push(L[O+m])}O+=j}else{if(S>=l.length){if(!M){for(m=0;m<j;++m){P.push(L[O+m])}}O+=j}else{if(l[S]==null){for(m=0;m<j;++m){P.push(null)}N=true;S+=X}else{s=L[O];I=L[O+1];H=l[S];J=l[S+1];R=0;if(s==H){for(m=0;m<j;++m){P.push(L[O+m])}R=J;O+=j;S+=X}else{if(s>H){if(M&&O>0&&L[O-j]!=null){W=I+(L[O-j+1]-I)*(H-s)/(L[O-j]-s);P.push(H);P.push(W);for(m=2;m<j;++m){P.push(L[O+m])}R=J}S+=X}else{if(N&&M){O+=j;continue}for(m=0;m<j;++m){P.push(L[O+m])}if(M&&S>0&&l[S-X]!=null){R=J+(l[S-X+1]-J)*(s-H)/(l[S-X]-H)}O+=j}}N=false;if(i!=P.length&&U){P[i+2]=R}}}}if(V&&i!=P.length&&i>0&&P[i]!=null&&P[i]!=P[i-j]&&P[i+1]!=P[i-j+1]){for(m=0;m<j;++m){P[i+j+m]=P[i+m]}P[i+1]=P[i-j+1]}}Y.points=P}a.hooks.processDatapoints.push(b)}d.plot.plugins.push({init:f,options:e,name:"fillbetween",version:"1.0"})})(jQuery);