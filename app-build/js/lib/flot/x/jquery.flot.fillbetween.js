(function(f){var d={series:{fillBetween:null}};function e(b){function a(i,k){var l;for(l=0;l<k.length;++l){if(k[l].id==i.fillBetween){return k[l]}}if(typeof i.fillBetween=="number"){l=i.fillBetween;if(l<0||l>=k.length){return null}return k[l]}return null}function c(M,i,Y){if(i.fillBetween==null){return}var T=a(i,M.getData());if(!T){return}var J=Y.pointsize,j=Y.points,X=T.datapoints.pointsize,L=T.datapoints.points,K=[],N,R,W,O,S,P,l=i.lines.show,U=J>2&&Y.format[2].y,V=l&&i.lines.steps,s=true,I=0,Q=0,H;while(true){if(I>=j.length){break}H=K.length;if(j[I]==null){for(m=0;m<J;++m){K.push(j[I+m])}I+=J}else{if(Q>=L.length){if(!l){for(m=0;m<J;++m){K.push(j[I+m])}}I+=J}else{if(L[Q]==null){for(m=0;m<J;++m){K.push(null)}s=true;Q+=X}else{N=j[I];R=j[I+1];O=L[Q];S=L[Q+1];P=0;if(N==O){for(m=0;m<J;++m){K.push(j[I+m])}P=S;I+=J;Q+=X}else{if(N>O){if(l&&I>0&&j[I-J]!=null){W=R+(j[I-J+1]-R)*(O-N)/(j[I-J]-N);K.push(O);K.push(W);for(m=2;m<J;++m){K.push(j[I+m])}P=S}Q+=X}else{if(s&&l){I+=J;continue}for(m=0;m<J;++m){K.push(j[I+m])}if(l&&Q>0&&L[Q-X]!=null){P=S+(L[Q-X+1]-S)*(N-O)/(L[Q-X]-O)}I+=J}}s=false;if(H!=K.length&&U){K[H+2]=P}}}}if(V&&H!=K.length&&H>0&&K[H]!=null&&K[H]!=K[H-J]&&K[H+1]!=K[H-J+1]){for(m=0;m<J;++m){K[H+J+m]=K[H+m]}K[H+1]=K[H-J+1]}}Y.points=K}b.hooks.processDatapoints.push(c)}f.plot.plugins.push({init:e,options:d,name:"fillbetween",version:"1.0"})})(jQuery);