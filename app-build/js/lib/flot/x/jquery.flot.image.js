(function(j){var g={series:{images:{show:false,alpha:1,anchor:"corner"}}};j.plot.image={};j.plot.image.loadDataImages=function(e,l,a){var b=[],d=[];var c=l.series.images.show;j.each(e,function(n,k){if(!(c||k.images.show)){return}if(k.data){k=k.data}j.each(k,function(p,m){if(typeof m[0]=="string"){b.push(m[0]);d.push(m)}})});j.plot.image.load(b,function(k){j.each(d,function(r,q){var p=q[0];if(k[p]){q[0]=k[p]}});a()})};j.plot.image.load=function(b,a){var c=b.length,d={};if(c==0){a({})}j.each(b,function(m,n){var e=function(){--c;d[n]=this;if(c==0){a(d)}};j("<img />").load(e).error(e).attr("src",n)})};function i(C,E,H){var G=C.getPlotOffset();if(!H.images||!H.images.show){return}var B=H.datapoints.points,F=H.datapoints.pointsize;for(var z=0;z<B.length;z+=F){var a=B[z],c=B[z+1],L=B[z+2],d=B[z+3],M=B[z+4],K=H.xaxis,e=H.yaxis,b;if(!a||a.width<=0||a.height<=0){continue}if(c>d){b=d;d=c;c=b}if(L>M){b=M;M=L;L=b}if(H.images.anchor=="center"){b=0.5*(d-c)/(a.width-1);c-=b;d+=b;b=0.5*(M-L)/(a.height-1);L-=b;M+=b}if(c==d||L==M||c>=K.max||d<=K.min||L>=e.max||M<=e.min){continue}var I=0,A=0,J=a.width,D=a.height;if(c<K.min){I+=(J-I)*(K.min-c)/(d-c);c=K.min}if(d>K.max){J+=(J-I)*(K.max-d)/(d-c);d=K.max}if(L<e.min){D+=(A-D)*(e.min-L)/(M-L);L=e.min}if(M>e.max){A+=(A-D)*(e.max-M)/(M-L);M=e.max}c=K.p2c(c);d=K.p2c(d);L=e.p2c(L);M=e.p2c(M);if(c>d){b=d;d=c;c=b}if(L>M){b=M;M=L;L=b}b=E.globalAlpha;E.globalAlpha*=H.images.alpha;E.drawImage(a,I,A,J-I,D-A,c+G.left,L+G.top,d-c,M-L);E.globalAlpha=b}}function f(a,d,c,b){if(!d.images.show){return}b.format=[{required:true},{x:true,number:true,required:true},{y:true,number:true,required:true},{x:true,number:true,required:true},{y:true,number:true,required:true}]}function h(a){a.hooks.processRawData.push(f);a.hooks.drawSeries.push(i)}j.plot.plugins.push({init:h,options:g,name:"image",version:"1.1"})})(jQuery);