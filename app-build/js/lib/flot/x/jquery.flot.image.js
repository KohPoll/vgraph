(function(g){var i={series:{images:{show:false,alpha:1,anchor:"corner"}}};g.plot.image={};g.plot.image.loadDataImages=function(c,d,e){var l=[],b=[];var a=d.series.images.show;g.each(c,function(k,n){if(!(a||n.images.show)){return}if(n.data){n=n.data}g.each(n,function(m,p){if(typeof p[0]=="string"){l.push(p[0]);b.push(p)}})});g.plot.image.load(l,function(k){g.each(b,function(p,r){var q=r[0];if(k[q]){r[0]=k[q]}});e()})};g.plot.image.load=function(d,c){var a=d.length,b={};if(a==0){c({})}g.each(d,function(n,e){var m=function(){--a;b[e]=this;if(a==0){c(b)}};g("<img />").load(m).error(m).attr("src",e)})};function f(A,C,F){var E=A.getPlotOffset();if(!F.images||!F.images.show){return}var z=F.datapoints.points,D=F.datapoints.pointsize;for(var I=0;I<z.length;I+=D){var a=z[I],c=z[I+1],K=z[I+2],d=z[I+3],L=z[I+4],J=F.xaxis,e=F.yaxis,b;if(!a||a.width<=0||a.height<=0){continue}if(c>d){b=d;d=c;c=b}if(K>L){b=L;L=K;K=b}if(F.images.anchor=="center"){b=0.5*(d-c)/(a.width-1);c-=b;d+=b;b=0.5*(L-K)/(a.height-1);K-=b;L+=b}if(c==d||K==L||c>=J.max||d<=J.min||K>=e.max||L<=e.min){continue}var G=0,y=0,H=a.width,B=a.height;if(c<J.min){G+=(H-G)*(J.min-c)/(d-c);c=J.min}if(d>J.max){H+=(H-G)*(J.max-d)/(d-c);d=J.max}if(K<e.min){B+=(y-B)*(e.min-K)/(L-K);K=e.min}if(L>e.max){y+=(y-B)*(e.max-L)/(L-K);L=e.max}c=J.p2c(c);d=J.p2c(d);K=e.p2c(K);L=e.p2c(L);if(c>d){b=d;d=c;c=b}if(K>L){b=L;L=K;K=b}b=C.globalAlpha;C.globalAlpha*=F.images.alpha;C.drawImage(a,G,y,H-G,B-y,c+E.left,K+E.top,d-c,L-K);C.globalAlpha=b}}function h(c,b,a,d){if(!b.images.show){return}d.format=[{required:true},{x:true,number:true,required:true},{y:true,number:true,required:true},{x:true,number:true,required:true},{y:true,number:true,required:true}]}function j(a){a.hooks.processRawData.push(h);a.hooks.drawSeries.push(f)}g.plot.plugins.push({init:j,options:i,name:"image",version:"1.1"})})(jQuery);