(function(j){j.fn.drag=function(c,b,a){if(b){this.bind("dragstart",c)}if(a){this.bind("dragend",a)}return !c?this.trigger("drag"):this.bind("drag",b?b:c)};var o=j.event,p=o.special,k=p.drag={not:":input",distance:0,which:1,dragging:false,setup:function(a){a=j.extend({distance:k.distance,which:k.which,not:k.not},a||{});a.distance=n(a.distance);o.add(this,"mousedown",m,a);if(this.attachEvent){this.attachEvent("ondragstart",r)}},teardown:function(){o.remove(this,"mousedown",m);if(this===k.dragging){k.dragging=k.proxy=false}l(this,true);if(this.detachEvent){this.detachEvent("ondragstart",r)}}};p.dragstart=p.dragend={setup:function(){},teardown:function(){}};function m(d){var c=this,b,a=d.data||{};if(a.elem){c=d.dragTarget=a.elem;d.dragProxy=k.proxy||c;d.cursorOffsetX=a.pageX-a.left;d.cursorOffsetY=a.pageY-a.top;d.offsetX=d.pageX-d.cursorOffsetX;d.offsetY=d.pageY-d.cursorOffsetY}else{if(k.dragging||(a.which>0&&d.which!=a.which)||j(d.target).is(a.not)){return}}switch(d.type){case"mousedown":j.extend(a,j(c).offset(),{elem:c,target:d.target,pageX:d.pageX,pageY:d.pageY});o.add(document,"mousemove mouseup",m,a);l(c,false);k.dragging=null;return false;case !k.dragging&&"mousemove":if(n(d.pageX-a.pageX)+n(d.pageY-a.pageY)<a.distance){break}d.target=a.target;b=q(d,"dragstart",c);if(b!==false){k.dragging=c;k.proxy=d.dragProxy=j(b||c)[0]}case"mousemove":if(k.dragging){b=q(d,"drag",c);if(p.drop){p.drop.allowed=(b!==false);p.drop.handler(d)}if(b!==false){break}d.type="mouseup"}case"mouseup":o.remove(document,"mousemove mouseup",m);if(k.dragging){if(p.drop){p.drop.handler(d)}q(d,"dragend",c)}l(c,true);k.dragging=k.proxy=a.elem=false;break}return true}function q(a,c,d){a.type=c;var b=j.event.handle.call(d,a);return b===false?false:b||a.result}function n(a){return Math.pow(a,2)}function r(){return(k.dragging===false)}function l(b,a){if(!b){return}b.unselectable=a?"off":"on";b.onselectstart=function(){return a};if(b.style){b.style.MozUserSelect=a?"":"none"}}})(jQuery);(function(a){var b=["DOMMouseScroll","mousewheel"];a.event.special.mousewheel={setup:function(){if(this.addEventListener){for(var d=b.length;d;){this.addEventListener(b[--d],c,false)}}else{this.onmousewheel=c}},teardown:function(){if(this.removeEventListener){for(var d=b.length;d;){this.removeEventListener(b[--d],c,false)}}else{this.onmousewheel=null}}};a.fn.extend({mousewheel:function(d){return d?this.bind("mousewheel",d):this.trigger("mousewheel")},unmousewheel:function(d){return this.unbind("mousewheel",d)}});function c(d){var f=[].slice.call(arguments,1),e=0,g=true;d=a.event.fix(d||window.event);d.type="mousewheel";if(d.wheelDelta){e=d.wheelDelta/120}if(d.detail){e=-d.detail/3}f.unshift(d,e);return a.event.handle.apply(this,f)}})(jQuery);(function(d){var e={xaxis:{zoomRange:null,panRange:null},zoom:{interactive:false,trigger:"dblclick",amount:1.5},pan:{interactive:false,cursor:"move",frameRate:20}};function f(a){function c(h,i){var g=a.offset();g.left=h.pageX-g.left;g.top=h.pageY-g.top;if(i){a.zoomOut({center:g})}else{a.zoom({center:g})}}function x(h,g){c(h,g<0);return false}var s="default",u=0,w=0,b=null;function v(h){if(h.which!=1){return false}var g=a.getPlaceholder().css("cursor");if(g){s=g}a.getPlaceholder().css("cursor",a.getOptions().pan.cursor);u=h.pageX;w=h.pageY}function r(g){var h=a.getOptions().pan.frameRate;if(b||!h){return}b=setTimeout(function(){a.pan({left:u-g.pageX,top:w-g.pageY});u=g.pageX;w=g.pageY;b=null},1/h*1000)}function t(g){if(b){clearTimeout(b);b=null}a.getPlaceholder().css("cursor",s);a.pan({left:u-g.pageX,top:w-g.pageY})}function p(h,i){var g=h.getOptions();if(g.zoom.interactive){i[g.zoom.trigger](c);i.mousewheel(x)}if(g.pan.interactive){i.bind("dragstart",{distance:10},v);i.bind("drag",r);i.bind("dragend",t)}}a.zoomOut=function(g){if(!g){g={}}if(!g.amount){g.amount=a.getOptions().zoom.amount}g.amount=1/g.amount;a.zoom(g)};a.zoom=function(m){if(!m){m={}}var g=m.center,l=m.amount||a.getOptions().zoom.amount,n=a.width(),j=a.height();if(!g){g={left:n/2,top:j/2}}var k=g.left/n,h=g.top/j,i={x:{min:g.left-k*n/l,max:g.left+(1-k)*n/l},y:{min:g.top-h*j/l,max:g.top+(1-h)*j/l}};d.each(a.getAxes(),function(J,I){var H=I.options,L=i[I.direction].min,F=i[I.direction].max,G=H.zoomRange;if(G===false){return}L=I.c2p(L);F=I.c2p(F);if(L>F){var o=L;L=F;F=o}var K=F-L;if(G&&((G[0]!=null&&K<G[0])||(G[1]!=null&&K>G[1]))){return}H.min=L;H.max=F});a.setupGrid();a.draw();if(!m.preventEvent){a.getPlaceholder().trigger("plotzoom",[a])}};a.pan=function(h){var g={x:+h.left,y:+h.top};if(isNaN(g.x)){g.x=0}if(isNaN(g.y)){g.y=0}d.each(a.getAxes(),function(n,l){var k=l.options,m,o,j=g[l.direction];m=l.c2p(l.p2c(l.min)+j),o=l.c2p(l.p2c(l.max)+j);var i=k.panRange;if(i===false){return}if(i){if(i[0]!=null&&i[0]>m){j=i[0]-m;m+=j;o+=j}if(i[1]!=null&&i[1]<o){j=i[1]-o;m+=j;o+=j}}k.min=m;k.max=o});a.setupGrid();a.draw();if(!h.preventEvent){a.getPlaceholder().trigger("plotpan",[a])}};function q(g,h){h.unbind(g.getOptions().zoom.trigger,c);h.unbind("mousewheel",x);h.unbind("dragstart",v);h.unbind("drag",r);h.unbind("dragend",t);if(b){clearTimeout(b)}}a.hooks.bindEvents.push(p);a.hooks.shutdown.push(q)}d.plot.plugins.push({init:f,options:e,name:"navigate",version:"1.3"})})(jQuery);