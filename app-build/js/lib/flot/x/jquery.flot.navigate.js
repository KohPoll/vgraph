(function(j){j.fn.drag=function(a,c,b){if(c){this.bind("dragstart",a)}if(b){this.bind("dragend",b)}return !a?this.trigger("drag"):this.bind("drag",c?c:a)};var o=j.event,p=o.special,k=p.drag={not:":input",distance:0,which:1,dragging:false,setup:function(a){a=j.extend({distance:k.distance,which:k.which,not:k.not},a||{});a.distance=n(a.distance);o.add(this,"mousedown",m,a);if(this.attachEvent){this.attachEvent("ondragstart",r)}},teardown:function(){o.remove(this,"mousedown",m);if(this===k.dragging){k.dragging=k.proxy=false}l(this,true);if(this.detachEvent){this.detachEvent("ondragstart",r)}}};p.dragstart=p.dragend={setup:function(){},teardown:function(){}};function m(b){var a=this,d,c=b.data||{};if(c.elem){a=b.dragTarget=c.elem;b.dragProxy=k.proxy||a;b.cursorOffsetX=c.pageX-c.left;b.cursorOffsetY=c.pageY-c.top;b.offsetX=b.pageX-b.cursorOffsetX;b.offsetY=b.pageY-b.cursorOffsetY}else{if(k.dragging||(c.which>0&&b.which!=c.which)||j(b.target).is(c.not)){return}}switch(b.type){case"mousedown":j.extend(c,j(a).offset(),{elem:a,target:b.target,pageX:b.pageX,pageY:b.pageY});o.add(document,"mousemove mouseup",m,c);l(a,false);k.dragging=null;return false;case !k.dragging&&"mousemove":if(n(b.pageX-c.pageX)+n(b.pageY-c.pageY)<c.distance){break}b.target=c.target;d=q(b,"dragstart",a);if(d!==false){k.dragging=a;k.proxy=b.dragProxy=j(d||a)[0]}case"mousemove":if(k.dragging){d=q(b,"drag",a);if(p.drop){p.drop.allowed=(d!==false);p.drop.handler(b)}if(d!==false){break}b.type="mouseup"}case"mouseup":o.remove(document,"mousemove mouseup",m);if(k.dragging){if(p.drop){p.drop.handler(b)}q(b,"dragend",a)}l(a,true);k.dragging=k.proxy=c.elem=false;break}return true}function q(c,a,b){c.type=a;var d=j.event.handle.call(b,c);return d===false?false:d||c.result}function n(a){return Math.pow(a,2)}function r(){return(k.dragging===false)}function l(b,a){if(!b){return}b.unselectable=a?"off":"on";b.onselectstart=function(){return a};if(b.style){b.style.MozUserSelect=a?"":"none"}}})(jQuery);(function(b){var c=["DOMMouseScroll","mousewheel"];b.event.special.mousewheel={setup:function(){if(this.addEventListener){for(var d=c.length;d;){this.addEventListener(c[--d],a,false)}}else{this.onmousewheel=a}},teardown:function(){if(this.removeEventListener){for(var d=c.length;d;){this.removeEventListener(c[--d],a,false)}}else{this.onmousewheel=null}}};b.fn.extend({mousewheel:function(d){return d?this.bind("mousewheel",d):this.trigger("mousewheel")},unmousewheel:function(d){return this.unbind("mousewheel",d)}});function a(f){var d=[].slice.call(arguments,1),g=0,e=true;f=b.event.fix(f||window.event);f.type="mousewheel";if(f.wheelDelta){g=f.wheelDelta/120}if(f.detail){g=-f.detail/3}d.unshift(f,g);return b.event.handle.apply(this,d)}})(jQuery);(function(f){var d={xaxis:{zoomRange:null,panRange:null},zoom:{interactive:false,trigger:"dblclick",amount:1.5},pan:{interactive:false,cursor:"move",frameRate:20}};function e(s){function u(h,i){var g=s.offset();g.left=h.pageX-g.left;g.top=h.pageY-g.top;if(i){s.zoomOut({center:g})}else{s.zoom({center:g})}}function r(h,g){u(h,g<0);return false}var a="default",c=0,q=0,t=null;function p(h){if(h.which!=1){return false}var g=s.getPlaceholder().css("cursor");if(g){a=g}s.getPlaceholder().css("cursor",s.getOptions().pan.cursor);c=h.pageX;q=h.pageY}function x(g){var h=s.getOptions().pan.frameRate;if(t||!h){return}t=setTimeout(function(){s.pan({left:c-g.pageX,top:q-g.pageY});c=g.pageX;q=g.pageY;t=null},1/h*1000)}function b(g){if(t){clearTimeout(t);t=null}s.getPlaceholder().css("cursor",a);s.pan({left:c-g.pageX,top:q-g.pageY})}function v(h,i){var g=h.getOptions();if(g.zoom.interactive){i[g.zoom.trigger](u);i.mousewheel(r)}if(g.pan.interactive){i.bind("dragstart",{distance:10},p);i.bind("drag",x);i.bind("dragend",b)}}s.zoomOut=function(g){if(!g){g={}}if(!g.amount){g.amount=s.getOptions().zoom.amount}g.amount=1/g.amount;s.zoom(g)};s.zoom=function(n){if(!n){n={}}var h=n.center,m=n.amount||s.getOptions().zoom.amount,g=s.width(),k=s.height();if(!h){h={left:g/2,top:k/2}}var l=h.left/g,i=h.top/k,j={x:{min:h.left-l*g/m,max:h.left+(1-l)*g/m},y:{min:h.top-i*k/m,max:h.top+(1-i)*k/m}};f.each(s.getAxes(),function(J,F){var L=F.options,o=j[F.direction].min,H=j[F.direction].max,I=L.zoomRange;if(I===false){return}o=F.c2p(o);H=F.c2p(H);if(o>H){var G=o;o=H;H=G}var K=H-o;if(I&&((I[0]!=null&&K<I[0])||(I[1]!=null&&K>I[1]))){return}L.min=o;L.max=H});s.setupGrid();s.draw();if(!n.preventEvent){s.getPlaceholder().trigger("plotzoom",[s])}};s.pan=function(h){var g={x:+h.left,y:+h.top};if(isNaN(g.x)){g.x=0}if(isNaN(g.y)){g.y=0}f.each(s.getAxes(),function(i,n){var m=n.options,o,j,l=g[n.direction];o=n.c2p(n.p2c(n.min)+l),j=n.c2p(n.p2c(n.max)+l);var k=m.panRange;if(k===false){return}if(k){if(k[0]!=null&&k[0]>o){l=k[0]-o;o+=l;j+=l}if(k[1]!=null&&k[1]<j){l=k[1]-j;o+=l;j+=l}}m.min=o;m.max=j});s.setupGrid();s.draw();if(!h.preventEvent){s.getPlaceholder().trigger("plotpan",[s])}};function w(g,h){h.unbind(g.getOptions().zoom.trigger,u);h.unbind("mousewheel",r);h.unbind("dragstart",p);h.unbind("drag",x);h.unbind("dragend",b);if(t){clearTimeout(t)}}s.hooks.bindEvents.push(v);s.hooks.shutdown.push(w)}f.plot.plugins.push({init:e,options:d,name:"navigate",version:"1.3"})})(jQuery);